Virtusize=function(a){var b=function(a){var b=document,e=window,f=null,g="https:"==b.location.protocol?"https:":"http:",h="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",j=e.location.protocol+"//"+e.location.host,k="api.virtusize.com",l="//d3vzbz3x4w4w5g.cloudfront.net",m="v2/2.17.2-37ecb3a";return a.origin=j,a.vsIntegrationVersion=m,a.ensureJQuery=function(b,c,d){"undefined"!=typeof e.jQuery?(d.$=a.$=f=e.jQuery,b(!1,d)):a.loadScript(g+h,function(){d.$=a.$=f=e.jQuery.noConflict(),b(!1,d)})},a.debug=function(b,c,f){var g=null;e.location.hash&&0===e.location.hash.indexOf("#hasVsWidget")?g="hasVsWidget":e.location.hash&&0===e.location.hash.indexOf("#debugOgp")&&(g="debugOgp"),g&&window.setTimeout(function(){var b=a.$('<div id="virtusize-debug-msg" style="text-align: left; position:fixed; top: 10%; width: 50%; height: 80%; left: 25%; background:white; border: 1px solid #cccccc; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3); padding: 10px 25px; z-index: 10000; border-radius: 2px; overflow-y: auto;"></div>');if("hasVsWidget"==g){b.append("<h3>Virtusize Widget has successfully integrated</h3>"),b.append("<p>Integration version: "+a.vsIntegrationVersion+"</p>"),b.append("<p>Number of widgets: "+f.widgetList.length+"</p>");var c=a.$("<ul></ul>");a.$.each(f.widgetList,function(b,d){c.append("<li><strong>Product #"+(b+1)+"</strong></li>");var e=a.$("<ul></ul>");e.append("<li>API Key: "+d.getApiKey()+"</li>"),e.append("<li>Product ID: "+d.productData.id+"</li>"),e.append("<li>Is Custom Button: "+d.isCustomButton()+"</li>"),e.append("<li>Is Valid Product: "+d.isValidProduct()+"</li>"),e.append("<li>Language: "+d.getLanguage()+"</li>"),e.append("<li>Region: "+d.getRegion()+"</li>"),e.append("<li>Available Sizes: "+d.getAvailableSizes()+"</li>"),e.append("<li>Size Aliases: "+d.getSizeAliases()+"</li>"),c.append(e)}),b.append(c)}else if("debugOgp"==g){b.append("<h3>Open Graph Metadata</h3>");var e=a.$("<pre></pre>");e.text(JSON.stringify(d.parse(),null,4)),b.append(e)}b.append("<p><button onclick=\"$('#virtusize-debug-msg').fadeOut(function() { $('#virtusize-debug-msg').remove()});\">Dismiss</button></p>"),a.$("body").append(b)},2e3),b(!1,f)},a.checkBrowser=function(b,c,d){d.isModernBrowser=a.isModernBrowser(),b(!1,d)},a.checkEnvironment=function(a,b,c){c.isModernBrowser&&i.createUtilIFrame(function(){a(!1,c)},c)},a.sendProductMetadata=function(b,e,f){window.setTimeout(function(){f.fetchMetaData&&a.$.each(f.widgetList,function(b,e){var f=d.parse(),g={};if(f.image){g.ogp=f;var h=a.$('link[rel="canonical"]');h.length>0&&(g.canonicalUrl=h.attr("href")),g.externalId=e.productData.id,g.storeId=e.productData.storeId,g.apiKey=e.getApiKey(),c.createProductMetaData(g)}})},2e3),b(!1,f)},a.tryTwice=function(c,d){return function(e,f,g){function h(h,i){h?(d=d||a.$(b).ready,d(function(){c(e,f,g)})):e(h,i)}c(h,f,g)}},a.urlFor=function(a,b){return g+(b?l:"//"+k)+a},a.browserLanguage=function(){return navigator.language?navigator.language:navigator.userLanguage},a.uriParam=function(a,b){var c=new RegExp("[?&]"+b+"=([^&]*)").exec(a);return c?decodeURIComponent(c[1].replace(/\+/g," ")):null},a.loadScript=function(a,c){var d="script",e=b.getElementsByTagName(d)[0],f=b.createElement(d);f.async=!0,f.type="text/javascript",f.src=a,f.onload=f.onreadystatechange=function(a,b){(b||!f.readyState||/loaded|complete/.test(f.readyState))&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),f=void 0,b||c())},e.parentNode.insertBefore(f,e)},a.isMultiProduct=function(){return"function"!=typeof window.vsWidgetAsyncInit&&a.$.isArray(window.vsWidgetAsyncInit)&&window.vsWidgetAsyncInit.length>1},a.isModernBrowser=function(){return!!window.postMessage&&!!window.JSON&&!!JSON.stringify},a.hasDebugHashtag=function(){return e.location.hash&&0===e.location.hash.indexOf("#hasVsWidget")},a.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a}(b||{}),c=function(a){var c="/rest-api/v1/",d=c+"events",e=c+"product-meta-data-hints";return a.createEvent=function(a,c){g.backendRequest("POST",d,{type:"user",source:"integration",name:a,apiKey:c.apiKey,storeDomain:b.origin,integrationVersion:b.vsIntegrationVersion,storeProductExternalId:c.productData.id},"application/json")},a.createProductMetaData=function(a){g.backendRequest("POST",e,a,"application/json")},a}(c||{}),d=function(a){var c=/(?:([\S]*):\s?)?http:\/\/ogp.me\/ns#/,d=/(?:([\S]*):\s?)?http:\/\/ogp.me\/ns\/product\#/,e=["url","title","image","image:url","image:width","image:height","description","locale","site_name"],f=["upc","ean","brand","mfr_part_no","size","color","availability","category","price:amount","price:currency","material","pattern","target_gender","age_group"];return a.parse=function(){var c=b.$("meta"),d={};return b.$.each(c,function(c,e){var e=b.$(e),f=e.attr("property"),g=e.attr("name");a.validProperty(f,a.concatAllProperties())?a.setData(e,f,d):a.validProperty(g,a.concatAllProperties())&&a.setData(e,g,d)}),d},a.setData=function(c,d,e){var f=a.parsePrefix(a.selectPrefix()),g=d.replace(f.og+":","").replace(f.product+":","");e[g]&&!b.$.isArray(e[g])&&(e[g]=[e[g]]),b.$.isArray(e[g])?e[g].push(c.attr("content")):e[g]=c.attr("content")},a.parsePrefix=function(a){var e={og:"og",product:"og:product"};return a.length>0&&b.$.each(a,function(a,b){var f=b.value.match(c),g=b.value.match(d);f&&2==f.length&&f[1]?e.og=f[1]:f&&b.name.match(/xmlns:/)&&(e.og=b.name.replace(/xmlns:/,"")),e.product=g&&2==g.length&&g[1]?g[1]:g&&b.name.match(/xmlns:/)?b.name.replace(/xmlns:/,""):e.og+":product"}),e},a.selectPrefix=function(){var c=b.$("html"),d=b.$("head"),e=a.extractPrefix(d[0]);return 0===e.length&&(e=a.extractPrefix(c[0])),e},a.extractPrefix=function(a){var c=[];return b.$.each(a.attributes,function(a,b){var d={};b.value.match(/ogp\.me/)&&(d.name=b.name,d.value=b.value,c.push(d))}),c},a.concatAllProperties=function(){var c=a.parsePrefix(a.selectPrefix());return b.$.merge(a.concatProperties(c.og,e),a.concatProperties(c.product,f))},a.concatProperties=function(a,c){var d=[];return b.$.each(c,function(b,c){d.push(a+":"+c)}),d},a.validProperty=function(a,c){return a&&-1!=b.$.inArray(a,c)},a}(d||{}),e=function(a){var c=730,d=/[^.]*\.([^.]*|..\...|...\...)$/;return a.cookieKey="vs.bid",a.setOnContext=function(b,c,d){return d.bid=a.readOrCreate(),b(!1,d)},a.readOrCreate=function(b){var c=b?b:a.read();return c||(c=a.uuid()),a.remove(),a.write(c),c},a.read=function(){return a.readCookie(a.cookieKey)},a.write=function(b){return a.writeCookie(a.cookieKey,b,{domain:a.tld(window.location.hostname),expires:c})},a.remove=function(){return a.removeCookie(a.cookieKey,{domain:a.tld(window.location.hostname)})},a.tld=function(a){var b=a.match(d);return b?"."+b[0]:a},a.uuid=function(){var a,b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),c=[],d=23;for(radix=b.length,a=0;d>a;a++)c[a]=b[0|Math.random()*radix];return c.join("")+"."+(new Date).getTime().toString(36)},a.writeCookie=function(a,c,d){if(void 0!==c&&!b.$.isFunction(c)){if(d=b.$.extend({expires:1,path:"/"},d),"number"==typeof d.expires){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return document.cookie=[encodeURIComponent(a),"=",String(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}return null},a.readCookie=function(a){for(var b=document.cookie?document.cookie.split("; "):[],c=0,d=b.length;d>c;c++){var e=b[c].split("="),f=decodeURIComponent(e.shift()),g=e.join("=");if(a&&a===f)return g}return null},a.removeCookie=function(c,d){return null===a.readCookie(c)?!1:(a.writeCookie(c,"",b.$.extend({},d,{expires:-1})),!a.readCookie(c))},a}(e||{}),f=function(c){var d=function(){var a,b=[],c=setTimeout(function(){c=null,a._next()},0);return a={destroy:function(){c&&clearTimeout(c)},par:function(c,d){return!d&&b[b.length-1]instanceof Array||b.push([]),b[b.length-1].push(c),a},seq:function(b){return a.par(b,!0)},_next:function(c,d){for(var e=[],f=[],g=b.shift()||[],h=g.length,i=1==h,j=0;j<g.length;j++)!function(b,g){b(function(b,c){e[g]=b,f[g]=c,0==--h&&a._next(i?e[0]:e,i?f[0]:f)},c,d)}(g[j],j)}}};return c.start=function(){d().seq(c.createContext).seq(b.ensureJQuery).seq(b.checkBrowser).seq(g.setupReceiveMessage).seq(j.createVsWidget).seq(c.exposeVsWidget).seq(j.execVsWidgetAsyncInit).seq(c.stopOnError).seq(j.validateIntegration).seq(c.stopOnError).seq(e.setOnContext).par(b.checkEnvironment).par(h.loadCustomCode).seq(h.execCustomCode).seq(h.execWidgetCode).seq(h.execButtonCode).seq(i.injectStyle).seq(b.tryTwice(h.execProductStrategy)).seq(c.stopOnError).seq(b.tryTwice(h.execButtonOrPositionStrategy)).seq(c.stopOnError).seq(h.validateProduct).seq(i.setupButton).seq(b.debug).seq(b.sendProductMetadata)},c.stopOnError=function(a,c,d){c=b.$.isArray(c)?c:[c];for(var e=0;e<c.length;e++)if(c[e])return;a(!1,b.$.isArray(d)?d[0]:d)},c.createContext=function(c){a.integrationVersion=b.vsIntegrationVersion,c(!1,{integrationVersion:b.vsIntegrationVersion})},c.exposeVsWidget=function(b,c,d){function e(a,b){return function(){a.call(b)}}a.vsWidget=d.widgetList[0],a.vsWidget.open=e(a.vsWidget.open,a.vsWidget),a.vsWidget.close=e(a.vsWidget.close,a.vsWidget),b(!1,d)},c}(f||{}),g=function(a){return a.eventsMap={"button.iframe.shown":"widget.button.show","button.iframe.clicked":"widget.button.click","widget.iframe.opened":"widget.open","widget.intro.opened":"widget.introApp","widget.noTape.opened":"widget.introApp.noTapeClick","widget.getStarted.opened":"widget.getStartedApp","widget.welcomeBack.opened":"widget.welcomeBackApp","widget.newFromMeasurements.opened":"widget.newFromMeasurementsApp","widget.newFromMeasurements.itemCreated":"widget.newFromMeasurementsApp.itemCreated","widget.compare.opened":"widget.compareApp","widget.compare.saveWardrobeClicked":"widget.compareApp.saveWardrobeClick","widget.iOwnIt.clicked":"widget.iOwnItClick","widget.newFromReference.opened":"widget.newFromReferenceApp","widget.newFromReference.itemCreated":"widget.newFromReferenceApp.itemCreated","widget.wardrobe.opened":"widget.wardrobeApp","widget.wardrobe.newItemClicked":"widget.compareApp.addNewItemClick","widget.wardrobe.deleteItemClicked":"widget.wardrobeApp.itemDeleted","widget.editItem.opened":"widget.editItemApp","widget.login.opened":"widget.loginApp","widget.register.opened":"widget.registerApp","widget.faq.opened":"widget.faqApp","widget.faq.sectionClicked":"widget.faqApp.sectionClicked"},a.setupReceiveMessage=function(c,d,e){var f=b.urlFor("");b.$(window).unbind("message.virtusize"),b.$(window).bind("message.virtusize",function(b){if(b=b.originalEvent,b.origin!==f)return!1;if("undefined"!=typeof b.data&&null!==b.data&&b.data)try{a.receiveEvent(JSON.parse(b.data),e)}catch(c){}}),c(!1,e)},a.receiveEvent=function(d,f){var g=a.selectWidget(d,f.widgetList);switch(d.name&&"widget-requested-close"==d.name&&g&&g.close(),a.concatenateEventName(d)){case"util.environment.cookieSet":g&&(f.environment.cookiesDisabled=!1),g.open();break;case"widget.iframe.closeRequested":g&&g.close();break;case"util.environment.check":f.environment=d.data,f.bid=e.readOrCreate(f.environment.bid);break;case"backend.product.checked":g&&(g.productData=b.$.extend(g.productData,d.data),g.isValidProduct()?(g.handleEvent("widget.validProduct"),i.showButton(g),c.createEvent("user-saw-widget-button",g)):g.handleEvent("widget.invalidProduct"),f.fetchMetaData=d.data.fetchMetaData)}g&&(g.handleEvent(a.concatenateEventName(d),d.data),a.isLegacyEvent(d)&&g.handleEvent(a.getLegacyEventName(d),d.data))},a.concatenateEventName=function(a){return[a.source,a.subject,a.action].join(".")},a.isLegacyEvent=function(b){var c=a.concatenateEventName(b);return c in a.eventsMap},a.getLegacyEventName=function(b){var c=a.concatenateEventName(b);return a.eventsMap[c]},a.backendRequest=function(a,c,d,e){var f={url:c,type:a,source:"integration",subject:"backend",action:"request",contentType:e?e:"application/x-www-form-urlencoded",data:d},g=b.$('iframe[name="'+i.utilIFrameName+'"]')[0].contentWindow;g.postMessage(JSON.stringify(f),b.urlFor(""))},a.selectWidget=function(a,c){var d=null;return 1==c.length?d=c[0]:a.productId?b.$.each(c,function(b,c){a.productId==c.productData.id&&(d=c)}):b.$.each(c,function(a,b){b.active===!0&&(d=b)}),d},a}(g||{}),h=function(a){var d="/api/vs-widget/v2/vs-widget-custom.js",e="/api/vs-widget/v2/product-data-check";return a.loadCustomCode=function(a,c,e){b.loadScript(b.urlFor(d+"?apiKey="+e.widgetList[0].getApiKey(),!0),function(){a(!1,e)})},a.execCustomCode=function(a,c,d){b.$.isArray(d)&&(d=d[0]),"function"==typeof window.vsCustomCode&&window.vsCustomCode(b.$,d.widgetList),a(!1,d)},a.execButtonCode=function(a,c,d){"function"==typeof window.vsButtonCode&&b.$.each(d.widgetList,function(a,b){window.vsButtonCode(b)}),a(!1,d)},a.execWidgetCode=function(a,c,d){"function"==typeof window.vsWidgetCode&&b.$.each(d.widgetList,function(a,b){window.vsWidgetCode(b)}),a(!1,d)},a.execProductStrategy=function(c,d,e){d=!1,b.$.each(e.widgetList,function(b,c){var f=c.getProductDataStrategy()||function(){return null},g=f(e.$);"undefined"==typeof g||null===g?d=!0:("string"==typeof g&&(g={id:g}),c.productData=a.convertFromLegacyNames(g))}),c(d,e)},a.validateProduct=function(a,d,f){b.$.each(f.widgetList,function(a,b){g.backendRequest("GET",e,{apiKey:b.getApiKey(),externalId:b.productData.id,version:b.productData.version}),c.createEvent("user-saw-product",b)}),a(!1,f)},a.execButtonOrPositionStrategy=function(c,d,e){d=!1,b.$.each(e.widgetList,function(b,c){d=c.isCustomButton()?a.execButtonStrategy(c):a.execButtonPositionStrategy(c)}),c(d,e)},a.execButtonStrategy=function(a){var c=!1,d=a.getButtonStrategy(),e=d(b.$)||a.vsWidgetButton;return"undefined"==typeof e||null===e||e.jquery&&0===e.length?c=!0:a.vsWidgetButton=e,c},a.execButtonPositionStrategy=function(a){var c=!1,d=a.getButtonPositionStrategy()||function(a){return a("#vs-widget-button-container").add("#virtusize")},e=d(b.$);return"undefined"==typeof e||null===e||e.jquery&&0===e.length?c=!0:a.buttonContainerElement=e,c},a.convertFromLegacyNames=function(a){return a.id=a.id||a.productId,a.name=a.name||a.productName,a.type=a.type||a.productType,a},a}(h||{}),i=function(a){function c(a){a.css(f()).css({position:"relative",width:q.w,height:q.h,margin:"0 auto",display:"block",top:"50%","margin-top":q.h/-2+"px"})}function d(a){return'<iframe id="'+a+'" name="'+a+'" frameborder="0" allowtransparency="true" scrolling="no" onmousewheel=""></iframe>'}function f(){return{overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden",background:"transparent",border:"none"}}function g(a){var e=b.$(d(o)).attr("src",a);c(e),e.appendTo(h)}var h=null,i="virtusize-overlay",j="virtusize-overlay-wrapper",k="/api/vs-widget/integration/util-iframe.html",l="virtusize-util-iframe",m="/api/vs-widget-button/button/no-cookies.html",n="/api/vs-widget-button/button/update-browser.html",o="virtusize-widget-iframe",p="/api/vs-widget/show/",q={w:1022,h:640};return a.utilIFrameName=l,a.setupButton=function(c,d,e){b.$.each(e.widgetList,function(b,c){c.isCustomButton()||a.createDomButton(c,e),a.setupDomButton(c,e)}),c(!1,e)},a.showButton=function(a){var b=a.vsWidgetButton;b&&b.jquery&&(b.css("visibility","visible").show(),a.handleEvent("widget.button.show"))},a.injectStyle=function(a,c,d){var e=d.widgetList[0];!e.isCustomButton()&&e.buttonOptions&&(style=b.$('<style type="text/css">'+e.buttonOptions.buttonCss+"</style>"),style.appendTo(b.$("head"))),e.widgetOptions&&(style=b.$('<style type="text/css">'+e.widgetOptions.overlayCss+"</style>"),style.appendTo(b.$("head"))),a(!1,d)},a.setupDomButton=function(c,d){if(c.vsWidgetButton){var e=c.vsWidgetButton;e.jquery||(e=c.vsWidgetButton=b.$(e)),e.css("visibility","hidden").hide(),e.unbind("click.virtusize"),e.bind("click.virtusize",function(b){b.preventDefault(),d.isModernBrowser?d.environment&&d.environment.cookiesDisabled?a.openNoCookieWindow(c):(c.handleEvent("widget.button.click"),c.open()):a.openOldBrowserWindow(c)})}},a.createDomButton=function(a){if(a.buttonContainerElement){a.buttonContainerElement.jquery||(a.buttonContainerElement=b.$(a.buttonContainerElement));var c=b.$('<button type="button"></button>');c.attr("data-product-id",a.productData.id),c.addClass("virtusize-"+a.buttonOptions.buttonStyle),c.text(a.getButtonLabel("text")),a.buttonOptions.buttonLogoEnabled&&c.addClass("virtusize-logo").prepend("<i></i>"),a.buttonOptions.buttonLabelEnabled&&a.getButtonLabel("label")&&(c.addClass("virtusize-label"),c.prepend(b.$("<em></em>").text(a.getButtonLabel("label")))),a.buttonOptions.buttonTooltipEnabled&&a.getButtonLabel("tooltip")&&(c.addClass("virtusize-tooltip"),c.attr("data-virtusize-tooltip",a.getButtonLabel("tooltip"))),c.appendTo(a.buttonContainerElement),a.vsWidgetButton=c}},a.createUtilIFrame=function(a,c){var d=b.urlFor(k+"?"+b.$.param({origin:b.origin,"vs.bid":c.bid,_:(new Date).getTime()})),e='<iframe name="'+l+'" frameborder="0" allowtransparency="true" scrolling="no" style="width:0; height:0; position: absolute; left:-9999px;" width="0" height="0"></iframe>',f=b.$(e);f.attr("src",d),f.load(a),0===b.$("body").length?b.$(function(){b.$("body").append(f)}):b.$("body").append(f)},a.openNoCookieWindow=function(c){a.openWindow(b.urlFor(m+"?"+b.$.param({origin:b.origin,productId:c.productData.id})),400,300)},a.openOldBrowserWindow=function(c){a.openWindow(b.urlFor(n+"?"+b.$.param({productId:c.productData.id})),500,350)},a.openWindow=function(a,c,d){var e=window,f=document,g="status=0,toolbar=0,location=0,menubar=0,directories=0,resizable=0,scrollbars=0",h=b.isNumeric(e.screenX)?e.screenX:e.screenLeft,i=b.isNumeric(e.screenY)?e.screenY:e.screenTop,j=b.isNumeric(e.outerWidth)?e.outerWidth:f.body.clientWidth,k=b.isNumeric(e.outerHeight)?e.outerHeight:f.body.clientHeight-22,l=parseInt(h+(j-c)/2,10),m=parseInt(i+(k-d)/2.5,10),n="width="+c+",height="+d+",left="+l+",top="+m+g,o=e.open(a,"Virtusize",n);o.focus()},a.openWidget=function(c){h=b.$('<div id="'+j+'"><div id="'+i+'"></div></div>').appendTo("body").show().find("#"+i).show(),b.$("#"+j).click(function(){c.close()}),g(a.constructWidgetURI(c))},a.closeWidget=function(){b.$("#"+o).add("#"+j).remove()},a.constructWidgetURI=function(a,c,d){c=c?c:(new Date).getTime(),d=d?d:b.origin;var f=[a.getLocale(),a.productData.storeId,a.productData.productDataId||0],g={origin:d,bid:e.read(),_:c};return a.getAvailableSizes()&&(g.as=b.$.isArray(a.getAvailableSizes())&&0===a.getAvailableSizes().length?"null":a.getAvailableSizes()),a.getSizeAliases()&&(g.sa=a.getSizeAliases()),b.urlFor(p+f.join("/")+"?"+b.$.param(g))},a}(i||{}),j=function(a){return a.createVsWidget=function(c,d,e){if(e.widgetList=[],b.isMultiProduct())for(var f=0;f<window.vsWidgetAsyncInit.length;f++)e.widgetList.push(new a.VirtusizeWidget);else{var g=new a.VirtusizeWidget;e.widgetList.push(g)}c(d,e)},a.execVsWidgetAsyncInit=function(a,c,d){c=!0,"function"==typeof vsWidgetAsyncInit&&(window.vsWidgetAsyncInit=[window.vsWidgetAsyncInit]),window.vsWidgetAsyncInit.length==d.widgetList.length&&(b.$.each(window.vsWidgetAsyncInit,function(a,b){b(d.widgetList[a])}),c=!1),a(c,d)},a.validateIntegration=function(a,c,d){c=!0,b.$.each(d.widgetList,function(a,b){var d=b.getApiKey();null!==d&&"string"==typeof d&&0!==d.length&&(c=!1)}),a(c,d)},a.VirtusizeWidget=function(){this.apiKey=null,this.buttonPositionStrategy=null,this.productDataStrategy=null,this.language=null,this.region=null,this.productData=null,this.active=!1,this.callbacks={},this.availableSizes=null,this.sizeAliases=null,this.buttonContainerElement=null,this.vsWidgetButton=null,this.buttonOptions={buttonStyle:null,buttonCss:null,buttonLabelEnabled:null,buttonLogoEnabled:null,buttonTooltipEnabled:null,buttonI18nLabels:null}},a.VirtusizeWidget.prototype={setApiKey:function(a){this.apiKey=a},getApiKey:function(){return this.apiKey},setButtonPositionStrategy:function(a){this.buttonPositionStrategy=a},getButtonPositionStrategy:function(){return this.buttonPositionStrategy},setButtonContainer:function(a){this.setButtonPositionStrategy(function(){return"string"!=typeof a&&a.jquery?a:b.$(a)})},setButtonStrategy:function(a){this.buttonStrategy=a},getButtonStrategy:function(){return this.buttonStrategy},setButton:function(a){this.setButtonStrategy(function(){return"string"!=typeof a&&a.jquery?a:b.$(a)})},setProductDataStrategy:function(a){this.productDataStrategy=a},getProductDataStrategy:function(){return this.productDataStrategy},setProductId:function(a){this.setProductDataStrategy(function(){return b.$.trim(""+a)})},setProductData:function(a){this.setProductDataStrategy(function(){return a})},isValidProduct:function(){return this.productData.validProduct===!0},isCustomButton:function(){return"undefined"!=typeof this.getButtonStrategy()&&null!==this.getButtonStrategy()},setLanguage:function(a){this.language=a},getLanguage:function(){return this.language?this.language:"default"},setLocale:function(a){var b=a?a.split("_"):null;b&&b.length>=1?(this.setLanguage(b[0]),b.length>=2?this.setRegion(b[1]):this.setRegion(null)):(this.setLanguage(null),this.setRegion(null))},getLocale:function(){return this.getLanguage()+"_"+this.getRegion()},setRegion:function(a){this.region=a},getRegion:function(){return this.region?this.region:"default"},getButtonLabel:function(a){var c="default"==this.getLanguage()?b.browserLanguage():this.getLanguage().split("-")[0],d=c in this.buttonOptions.buttonI18nLabels?this.buttonOptions.buttonI18nLabels[c]:this.buttonOptions.buttonI18nLabels.en;return d[a]},setAvailableSizes:function(a){b.$.isArray(a)?this.availableSizes=a:(void 0===a||null===a)&&(this.availableSizes=null)},getAvailableSizes:function(){return this.availableSizes},setSizeAliases:function(a){"object"!=typeof a||b.$.isArray(a)||(this.sizeAliases=a)},getSizeAliases:function(){return this.sizeAliases},bindCallback:function(a,b){var c=this.callbacks[a]||[];c.push(b),this.callbacks[a]=c},unbindCallback:function(a,b){if("undefined"!=typeof a){if("undefined"==typeof b)return this.callbacks[a]=[],void 0;for(var c=this.callbacks[a]||[],d=0;d<c.length;d++)c[d]===b&&c.splice(d,1);this.callbacks[a]=c}},handleEvent:function(a,c){var d=this.callbacks;if(b.$.isArray(d[a]))for(var e=d[a],f=0;f<e.length;f++)try{e[f].apply(window,[b.$,this.productData,c])}catch(g){}},open:function(){this.active=!0,i.openWidget(this)},close:function(){this.active=!1,i.closeWidget(this),this.handleEvent("widget.close")}},a}(j||{});return f.start(),a}({});