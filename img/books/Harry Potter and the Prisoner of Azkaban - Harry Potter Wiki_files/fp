/*(c)2014 sovrn Holdings, Inc. All Rights Reserved 1417641207074*/
var LJT_Config=LJT_Config||{length:0,globals:{lgq:[],lg_fired:[],beacon_fired:!1,dv:{loc:""},tag_regex:/^(https?:)?\/\/.*\.lijit\.(com|dev)(:\d+)?(\/\/)?(\/www)?\/delivery\/fp/i,origin_regex:/.*\.lijit\.(com|dev)$/i}},lwp_ad_zoneid=null,LJT_executeCB=function(){return LJT_Ads.doPassback()},LJT_Ads={ad_url_regxs:[{dmn:"?(apr|ap|www)?\\.lijit\\.(com|dev)",pat:'.*(\\?|&)(loc)=([^"&;, ]+)'},{dmn:"?googleusercontent\\.com",pat:'.*?u=([^"&;, ]+)'},{dmn:"webcache.googleusercontent.com/search",pat:'\\?q=cache:[^:]+:([^"&;, \\+]+)'},{dmn:"?doubleclick.*?",pat:'(url|admu|click|dc_ref)=([^"&;, ]+)'},{dmn:"?yieldmanager\\.com",pat:".*?==,,([^,]+)"},{dmn:"?yieldmanager\\.com",pat:'.*?pub_url=(\\$)?([^"&;, ]+)'},{dmn:"?openx.*",pat:'(\\?|&)loc=([^"&;, ]+)'},{dmn:"?admeld.com.*",pat:'?url=([^"&;, ]+)'},{dmn:"?adnxs.com.*",pat:'?referrer=([^"&;, ]+)'},{dmn:"?ro2\\.biz.*",pat:'?rf=([^"&;, ]+)'},{dmn:"?ads.micklemedia\\.com",pat:'.*?&r=([^"&;, ]+)'},{dmn:"?c\\.lqw\\.me.*?",pat:'"url":"([^"& ]+)'},{dmn:"?mb\\.zam\\.com",pat:'.*?tr=([^"&;, ]+)'},{dmn:"?moocowads\\.com",pat:'.*?url=([^"&;, ]+)'},{dmn:"?pubmatic\\.com",pat:'.*?(\\?|&)(refurl|kadpageurl)=([^"&;, ]+)'},{dmn:"?tagcade\\.com",pat:'.*?(\\?|&)src=([^"&;, ]+)'},{dmn:"?burstdirectads\\.com",pat:'.*?(\\?|&)(pub_url|src)=([^"&;, ]+)'},{dmn:"?localpages\\.com",pat:'.*?(\\?|&)(pageUrl)=([^"&;, ]+)'},{dmn:"?888media\\.net",pat:'.*?(\\?|&)(page_address|uadr)=([^"&;, ]+)'}],http_rgx:"^http(s)?:\\/\\/.*",other_url_regxs:[{dmn:"",pat:"^{(.*)}$"},{dmn:"",pat:'#\\(parent_location\\)\\[([^\\]"&;, ]+)'},{dmn:"?google.*?",pat:'imgrefurl=([^"&;, ]+)'},{dmn:"?translate.google.*",pat:'u=([^"&;, ]+)'},{dmn:"?stumbleupon.com",pat:"\\/su\\/([a-zA-Z0-9]+)\\/(:[-|@!_$+:.a-zA-Z0-9\\\\s]+\\/)?(.+)"}],appendCSS:function(){var a,b,c,d,e,f=this.getConfig(),g=f.css_class;return document.getElementById("css_"+g)?!1:(d=this.dbgEnabled()?"border: solid #F2CB14 4px;":"",e=this.dbgEnabled()?'.sovrn_ad_unit:after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;opacity:0.3;border:solid #F2CB14 5px;}':"",a="."+g+"{display:inline-block;vertical-align:top;position:relative;width:"+f.zone.w+"px !important;height:"+f.zone.h+"px !important;z-index:999999 !important;"+d+"}"+e,b=document.createElement("style"),b.setAttribute("type","text/css"),b.setAttribute("id","css_"+g),b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),c=document.head||document.body,c.appendChild(b),!0)},atf:function(a){var b,c,d,e,f=this;if(f.isAsync())return f.getAsyncConfig("atf")||!1;try{a=a||f.getConfig().ad_unit_id,c=document.getElementById(a),c||f.reportError("ATF: Elem ID "+a+" not found",new Error),d=c.getClientRects()[0],e=self.document.documentElement,b=d.right>0&&d.left<e.clientWidth&&d.top+d.height/2<=e.clientHeight&&d.top>=0}catch(g){b=!1}return b+""},buildQS:function(a,b){var c,d=[],e=encodeURIComponent,f=b?"&amp;":"&";for(c in a)a.hasOwnProperty(c)&&""!==c&&""!==a[c]&&d.push(e(c)+"="+e(a[c]));return d.join(f)},callAdServer:function(){var a,b,c,d,e,f,g;if(a=this,b=a.getConfig(),b.called_ad_server)return a.log("duplicate addelivery call aborted ("+b.zone_id+" / "+b.tid+")"),!1;b.called_ad_server=!0,c=document.createElement("div"),f={id:b.ad_unit_id,"data-tid":b.tid,"data-zid":b.zone_id};for(g in f)f.hasOwnProperty(g)&&c.setAttribute(g,f[g]);return a.isAsync()?(c.setAttribute("style","display:none"),a.docWrite(c.outerHTML)):(c.setAttribute("class",b.css_class+" sovrn_ad_unit"),a.docWrite(c.outerHTML.replace(/<\/div>/i,""))),d=this.createScript(a.build_cfg.adserver_url+"?"+a.getASParams()+a.getMoreParams()),e=a.isAsync()?"":"</div>",a.docWrite(d.outerHTML+e),a.log("*addelivery ("+b.zone_id+" / "+b.tid+")"),!0},chainLG:function(a){try{var b,c,d,e,f=this;for("undefined"!=typeof Array.prototype.filter&&(LJT_Config.globals.lgq=LJT_Config.globals.lgq.filter(function(a,b,c){return c.indexOf(a)>=b})),e=0;e<LJT_Config.globals.lgq.length;e++){c=LJT_Config.globals.lgq[e],b=f.getConfig(c),a&&(this.log("LDE ("+c+")"),b.chain.data.lde="1"),d="http://"+f.getPod(c)+f.build_cfg.lg_suffix+"?"+f.buildQS(b.chain.data);try{"1"!==sessionStorage.getItem("lg_"+c)&&((new Image).src=d,LJT_Config.globals.lgq.shift(),sessionStorage.setItem("lg_"+c,"1"),LJT_Config.globals.lg_fired.push(c),f.log("*lg ("+b.zone_id+" / "+c+" / "+b.chain.data.bannerid+" / "+b.chain.data.campaignid+")"),b.chain.data={})}catch(g){-1===LJT_Config.globals.lg_fired.indexOf(c)&&((new Image).src=d,LJT_Config.globals.lgq.shift(),LJT_Config.globals.lg_fired.push(c),f.log("*lg2 ("+b.zone_id+" / "+c+" / "+b.chain.data.bannerid+")"),b.chain.data={})}}f.finale()}catch(h){this.reportError("Error Firing LG",h)}},createiFrame:function(a,b,c){var d,e,f=document.createElement("iframe"),g=f.style,h={id:a,margin:"0",padding:"0",frameborder:"0",width:b+"",height:c+"",scrolling:"no",src:"about:blank"},i={margin:"0px",padding:"0px",border:"0px none",width:b+"px",height:c+"px",overflow:"hidden"};for(d in h)h.hasOwnProperty(d)&&f.setAttribute(d,h[d]);for(e in i)if(i.hasOwnProperty(e))try{g[e]=i[e]}catch(j){}return f},createScript:function(a){var b=document.createElement("script");return b.type="text/javascript",b.src=a,b},dbg:function(a){var b;return"undefined"==typeof console?!1:void(this.dbgEnabled()&&(b=a.stack||"",console.log("[SQUELCHED ERROR]: "+a.message+"\n"+b)))},dbgEnabled:function(){return 1==(document.cookie.match("(^|; )debug=([^;]*)")||0)[2]},debug:function(a){return a=parseInt(a,10),document.cookie="debug="+a+"; expires=Tue, 19 Jan 2038 00:00:00 GMT; path=/",1==a},docWrite:function(a){try{document.write(a)}catch(b){this.reportError("docWrite Error",b)}},doFixBeacons:function(a){var b,c;if(a=a||document.body,b=a.childNodes,LJT_Ads.isTracker(a)&&(a.style.display="none",a.setAttribute("x-beacon","1")),a.hasChildNodes())for(c=0;c<b.length;c++)LJT_Ads.doFixBeacons(b[c])},doNotTrack:function(a){return a=a||navigator,"undefined"!=typeof a.doNotTrack&&("yes"===a.doNotTrack||"1"===a.doNotTrack)||"undefined"!=typeof a.msDoNotTrack&&"1"===a.msDoNotTrack},doPassback:function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m="";try{if(LJT_Config.globals.lgq=LJT_Config.globals.lgq||[],c=this.getConfig(),h=c.tid,"object"!=typeof c)throw new Error("Failed to find chain config");if(this.lgFired(h))return this.log("Passback Aborted; lg already fired; ("+c.zone_id+" / "+h+")"),!1;if(b=c.chain,b.index>0&&document.writeln("</ins>"),e=b.index++,g=b.ads[e],i=0===e?"Start Chain":"Passback",this.log(i+" ("+c.zone_id+" / "+h+")"),1===b.ads.length&&document.write("\n<!-- [sovrn] No Ads Returned From Server, Including a Passback ("+h+")-->\n"),e>=b.ads.length)return document.write("\n<!-- [sovrn] All Ads Exhausted, Including Default Ad;  ("+h+") -->\n"),this.reportError("Chain Pointer Exception",new Error),!1;b.data=JSON.parse(JSON.stringify(g.data)),b.data.tid=h,b.data.zoneid=c.zone_id,d={cids:g.data.campaignid,bids:g.data.bannerid,tss:(new Date).getTime()-b.start_time};for(f in d)d.hasOwnProperty(f)&&(b.history[f].push(d[f]),b.data[f]=b.history[f].join(","));return 232===g.campaignid&&(LJT_Config.globals.lgq.push(h),this.chainLG()),a||document.writeln("<!-- [sovrn] Banner ("+c.zone_id+" / "+h+" / "+g.data.bannerid+" / "+g.data.campaignid+") -->"),document.writeln('<ins class="sovrn_banner_ins" id="'+this.getChainLinkID(g,h)+'" style="display:block;border:none;margin:0;padding:0;position:relative;visibility:visible;text-decoration:none;background-color:transparent;">'),this.docWrite(decodeURIComponent(g.html)),this.log("Rendered Ad ("+c.zone_id+" / "+h+" / "+g.data.bannerid+" / "+g.data.campaignid+")"),b.banner_id=parseInt(g.data.bannerid,10),b.campaign_id=parseInt(g.data.campaignid,10),232!==g.campaignid&&0===e&&(LJT_Config.globals.lgq.push(h),m=this.isOldIE()||b.pbi?'<script src="'+this.build_cfg.adserver_base+'/www/delivery/lg.js" defer="defer" type="text/javascript"></script>':'<script type="text/javascript">LJT_Ads.chainLG();</script>',document.write(m)),k=document.getElementById(c.ad_unit_id),l=this.dbgEnabled()?"TID: "+h+"\nBID: "+g.data.bannerid+"\nCID: "+g.data.campaignid+"\nBH: "+b.history.bids.join(", ")+"\nCH: "+b.history.cids.join(", ")+"\nBIDs: "+this.getChainValues("bannerid")+"\nCIDs: "+this.getChainValues("campaignid")+"\nZID: "+c.zone_id+"\nU: "+this.getUsername():"",k&&(k.setAttribute("data-bid",g.data.bannerid),k.setAttribute("data-cid",g.data.campaignid),k.setAttribute("title",l)),j=this.getFriendlyIframe(),j&&(j.setAttribute("data-tid",h),j.setAttribute("data-bid",g.data.bannerid),j.setAttribute("data-cid",g.data.campaignid),j.setAttribute("title",l)),!0}catch(n){return this.reportError("Failed to Serve Chain Ad",n),b.data=b.data||{},b.data.campaignid=0,b.data.bannerid=0,b.data.tid=h,LJT_Config.globals.lgq.push(h),this.chainLG(),!1}},dv:{error:0,timeoutRef:null,call:function(){this.timeoutRef=setTimeout(function(){LJT_Ads.dv.setTimedOut("1"),LJT_Ads.callAdServer()},LJT_Ads.getBuildConfig().dv.timeout),LJT_Ads.docWrite(LJT_Ads.dv.buildTag().outerHTML),LJT_Ads.log("dv.call ("+LJT_Ads.getZoneID()+" / "+LJT_Ads.getTID()+")")},callback:function(a){var b,c;this.setEnd(+new Date),clearTimeout(this.timeoutRef),b=LJT_Ads.getConfig(),b.dv.latency=b.dv.end-b.dv.start,"object"==typeof a&&a.hasOwnProperty("responseTypeId")?1===a.responseTypeId?a.hasOwnProperty("exUrl")&&null!==a.exUrl?this.setLoc(a.exUrl):this.error=1:this.error=2===a.responseTypeId?2:4:this.error=4,b.dv.error=this.error||"",c=this.error?"[INVALID RESPONSE]":JSON.stringify(a),LJT_Ads.log("dv.callback ("+b.zone_id+" / "+b.tid+" / "+c+")"),LJT_Ads.callAdServer()},buildTag:function(){var a,b,c;return a={dv_callback:"LJT_Ads.dv.callback",turl:LJT_Ads.getLocHost(),sid:LJT_Ads.getZoneID(),ctx:"2103755",cmp:"2397271",dvapi:5,region:30,dvtagver:"6.1.src"},c=+new Date,b=LJT_Ads.createScript(LJT_Ads.getBuildConfig().dv.url+"?"+LJT_Ads.buildQS(a)+"&timecheck="+c),this.setStart(c),b},setLoc:function(a){LJT_Config.globals.dv.loc=a},getLoc:function(){return LJT_Config.globals.dv.loc},setTimedOut:function(a){var b;this.setEnd(+new Date),b=LJT_Ads.getConfig(),b.dv.latency=b.dv.end-b.dv.start,b.dv.timedOut=a},setStart:function(a){LJT_Ads.getConfig().dv.start=a},setEnd:function(a){LJT_Ads.getConfig().dv.end=a}},extractLoc:function(a){var b,c,d,e,f,g,h,i,j,k,l="";if(!a)return"";i=/^http(s)?%3A/i,j=decodeURIComponent,k=[this.ad_url_regxs,this.other_url_regxs];try{try{for(b=["/^http(s)?://.*?adnxs.com/bounce.*referrer.*/"],e=0;e<b.length;e++)if(new RegExp(b[e]).test(a)){try{a=j(a)}catch(m){this.dbg(m)}break}}catch(n){this.dbg(n)}for(;i.test(a);)try{a=j(a)}catch(m){this.dbg(m)}for(d=0;d<k.length;d++)for(e=0;e<k[d].length;e++)if(h=k[d][e].dmn?this.http_rgx:"",c=new RegExp(h+k[d][e].dmn+k[d][e].pat,"i"),f=c.exec(a),f&&f.length>=1){l=j(f[f.length-1]);break}}catch(o){this.dbg(o)}return g=this.extractLoc(l),this.urlCheck(g)?g:a},finale:function(){var a=this.getConfig();this.log("Finale ("+a.zone_id+" / "+a.tid+")"),this.sendBeacon(),this.fireContainerTag(),this.fixBeacons(),a.finale_fired=!0,this.inFriendlyIframe()&&this.isAsync()&&document.close(),this.log("EOL ("+a.zone_id+" / "+a.tid+")")},fireContainerTag:function(){var a,b,c;b=this.getConfig(),c={cid:1,type:"multi",zid:b.zone_id},a=this.createScript(this.build_cfg.container_url+"?"+this.buildQS(c)),document.body.appendChild(a),this.log("*container tag ("+b.zone_id+" / "+b.tid+")")},fixBeacons:function(){var a;if(!this.isInIframe())return!1;if(a=this.getBrowserEngine(),"cr"===a||"sf"===a)try{self.addEventListener("load",function(){self.removeEventListener("load",arguments.callee,!1),LJT_Ads.doFixBeacons()},!1)}catch(b){this.dbg(b)}else LJT_Ads.doFixBeacons();return!0},fprint:function(){var a="",b=navigator,c=window;if(this.doNotTrack())return"DNT";try{a=(new Date).getTimezoneOffset()+b.platform+b.appCodeName+b.appName+b.language+b.javaEnabled()+!!b.cookieEnabled+b.oscpu+b.product+screen.colorDepth+function(){var a="Disabled";try{a=!!c.sessionStorage+!!c.localStorage}catch(b){}return a}()+!!window.Worker+!!window.applicationCache+!!document.getItems+!!window.WebGLRenderingContext+!!document.createElement("canvas").getContext+!!document.createElement("video").canPlayType+("geolocation"in navigator)+!(!window.history||!history.pushState)+function(){var a,c="",d=b.mimeTypes;for(a=0;a<d.length;a++)c+=d[a].description+d[a].type+d[a].suffixes;return c}()+function(){var a,c="",d=b.plugins;for(a=0;a<d.length;a++)c+=d[a].name+d[a].filename;return c}()}catch(d){this.dbg(d)}return a?this.md5(a):"err"},generateAdUnitID:function(a){var b="sovrn_ad_unit_"+a,c=0,d=1;if(!document.getElementById(b))return b;for(;d;)d=document.getElementById(b+"_"+ ++c);return b+"_"+c},getAdUnitID:function(a){var b;try{b=this.getConfig(a).ad_unit_id}catch(c){b="sovrn_ad_unit_"+Math.floor(99999*Math.random())+100}return b},getASParams:function(){var a=this,b=a.getConfig();if(!b.hasOwnProperty("zone"))return void a.dbg("Missing Server Config");if(b.as_params={zoneid:b.zone_id,tid:a.getTID(),cb:b.zone.cb,mode:a.getMode(),flv:a.getFlashVersion(),fpr:a.fprint(),ifr:a.isInIframe(),od:a.getOD(),time:a.getTime(),fd:a.getFrameDepth(),be:a.getBrowserEngine(),lijit_kw:a.getRefSearch(),loc:a.getLoc(),referer:a.getRef(),abf:a.atf(),dpz:a.getDPZ(),cv:a.getCV(),dv_loc:a.dv.getLoc(),dv_to:b.dv.timedOut,dv_err:b.dv.error,dv_ms:b.dv.latency},1===b.zone.geo){var c=a.getGeo();if(a.isGeoDataFresh(c.acquisitionDate))for(attr in c)"acquisitionDate"!=attr&&(b.as_params[attr]=c[attr])}return a.buildQS(b.as_params)},isGeoDataFresh:function(a){return a&&new Date-new Date(a)<=this.getBuildConfig().geo.localStorageMaxAge?!0:!1},getAsyncConfig:function(a){var b;if(!this.isAsync())return null;try{return b=this.getConfig(),a?"undefined"!=typeof b.async[a]?b.async[a]:null:b.async}catch(c){return this.reportError("getAsyncConfig Error",c),null}},getBannerID:function(a){var b=this.getConfig(a);return b.hasOwnProperty("chain")?b.chain.banner_id:0},getBeaconFired:function(){return LJT_Config.globals.beacon_fired},getBeaconURL:function(){var a=this,b=a.getConfig(),c="undefined"!=typeof b.zone?b.zone.iid:0;return b.beacon_params={viewId:b.tid,rand:Math.floor(9e3*Math.random()),informer:c,type:"fpads",loc:a.getLoc(),rr:a.getRef(),v:"1.2"},a.build_cfg.beacon_url+"?"+this.buildQS(b.beacon_params)},getBrowserEngine:function(){var a,b,c,d;a=window,b=document,c=b.documentElement.style,d="un";try{a.chrome?d="cr":a.ActiveXObject||"-ms-ime-align"in c?d="ie":"mozInnerScreenX"in a&&"mozFullScreen"in b||"MozAppearance"in c?d="fx":"WebKitCSSMatrix"in a||"WebKitPoint"in a||"webkitStorageInfo"in a||"webkitURL"in a?d="sf":("OLink"in c||a.opera)&&(d="op")}catch(e){this.dbg(e)}return d},getBuildConfig:function(){return{adserver_base:"http://ap.lijit.com",adserver_url:"http://ap.lijit.com/addelivery",beacon_url:"http://gslbeacon.lijit.com/beacon",config_url:"http://ap.lijit.com/adcfg",container_url:"http://ap.lijit.com/res/sovrn.containertag.min.js",error_url:"//ap.lijit.com/data/errors",lg_suffix:"/impressions",adcenter_base:"http://adcenter.lijit.com/",webserver_base:"http://www.lijit.com",log_all_js_errors:"1",cv:"19db4a3",dv:{url:"http://cdn.doubleverify.com/dvtp_src.js",timeout:"1000"},geo:{localStorageMaxAge:"600000",positionOptions:{timeout:"30000",maximumAge:"0"}}}},getCampaignID:function(a){var b=this.getConfig(a);return b.hasOwnProperty("chain")?b.chain.campaign_id:0},getChainLinkID:function(a,b){return"sovrn_banner_"+b+"_"+a.data.bannerid+"_"+a.data.campaignid},getChainValues:function(a,b){var c,d=[];c=LJT_Ads.getConfig(b).chain.ads;for(var e=0;e<c.length;e++)c[e].data.hasOwnProperty(a)&&d.push(c[e].data[a]);return d},getConfig:function(a){return a=a||this.tid,this.tid=a,"undefined"==typeof LJT_Config[a]&&(LJT_Config[a]={},LJT_Config.length++),LJT_Config[a]},getConfigByIndex:function(a){var b,c=0;for(b in LJT_Config)if(40===b.length&&LJT_Config.hasOwnProperty(b)){if(c===a)return LJT_Config[b];c++}return!1},getConfigFromServer:function(){var a,b,c;b=this.getConfig(),c={zoneid:b.zone_id,tid:b.tid,mode:this.getMode(),dmn:this.getLocHost()},a=this.createScript(this.build_cfg.config_url+"?"+this.buildQS(c)),this.docWrite(a.outerHTML),this.log("*adcfg ("+b.zone_id+" / "+b.tid+")")},getConfigParam:function(a,b){var c=this,d=null,e=c.getConfig();return this.isAsync()&&(d=c.getAsyncConfig(a)),null!==d?d:e.query_params.hasOwnProperty(a)?e.query_params[a]:b},getCV:function(){return this.build_cfg.cv},getCSSClass:function(){var a=this.getConfig();return"sovrn_ad_"+a.zone.w+"_"+a.zone.h},getDPZ:function(){var a=this.getTIDsByZoneID(this.getConfig().zone_id);return"undefined"==typeof a?!1:a.length>1},getFlashVersion:function(){function a(a){return a=a.match(/[\d]+/g),a.length=3,a.join(".")}var b=!1,c="";if(navigator.plugins&&navigator.plugins.length){var d=navigator.plugins["Shockwave Flash"];d&&(b=!0,d.description&&(c=a(d.description))),navigator.plugins["Shockwave Flash 2.0"]&&(b=!0,c="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length)(b=(d=navigator.mimeTypes["application/x-shockwave-flash"])&&d.enabledPlugin)&&(c=a(d.enabledPlugin.description));else try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),b=!0,c=a(d.GetVariable("$version"))}catch(e){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),b=!0,c="6.0.21"}catch(f){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),b=!0,c=a(d.GetVariable("$version"))}catch(g){}}}return b?c:"0.0.0"},getFrameDepth:function(a){return a=a||self,a===top?0:1+this.getFrameDepth(a.parent)},getFriendlyIframe:function(){var a,b;return this.inFriendlyIframe()?(a=this.getAsyncConfig("id"),b=self.parent.document.getElementById(a)):null},getGUID:function(){function a(b){return b?(b^16*Math.random()>>b/4).toString(16):([1e7]+1e3+4e3+8e3+1e19).replace(/[018]/g,a)}return a()},getLoc:function(){var a,b=document.location.href,c=this;try{this.isAsync()&&("1"===c.getAsyncConfig("ifr")&&c.getAsyncConfig("ref")?a=c.getAsyncConfig("ref"):document.referrer&&(a=document.referrer)),this.urlCheck(a)||(a=c.getAsyncConfig("loc")||b),a=this.extractLoc(a)}catch(d){this.reportError("getLoc failure",d)}return a=this.urlCheck(a)?a:b,"http://"+a.replace("http://","").substr(0,1024)},getLocHost:function(){return this.parseUri(this.getLoc()).host},getMoreParams:function(){var a=this,b="",c=/(^ljt_|^x_)/;return b+=a.buildQS(this.isAsync()?a.matchProps(c,a.getAsyncConfig()):a.matchQueryParams(c)),b.length>0?"&"+b:""},getOD:function(){var a,b=this;return b.getAsyncConfig("od")&&(a=b.getAsyncConfig("od")),b.isInIframe()&&("1"===b.getAsyncConfig("ifr")&&b.getAsyncConfig("ref")?a=b.getAsyncConfig("ref"):document.referrer&&(a=document.referrer)),a=a||document.location.href.replace(/["']/g,""),b.parseUri(a).host},getMode:function(){var a=0;return this.isAsync()&&(a=1),this.isOldIE()&&(a+=2),a},getPod:function(a){return this.getConfig(a).chain.pod},getRef:function(){var a;return this.isAsync()?(a=this.getAsyncConfig("ref"),a&&a!==document.referrer||(a="")):a=document.referrer,a.substr(0,1024)},getRefSearch:function(a){var b,c,d;if(c=["q","p","search","query","kw"],a=a||this.getRef(),!a)return"";try{a=decodeURI(a)}catch(e){this.dbg(e)}for(d=this.parseQueryString(a),b=0;b<c.length;b++)if(d.hasOwnProperty(c[b]))return d[c[b]].replace(/\+/g," ");return""},getScriptTag:function(){var a,b,c;if(a=LJT_Config.globals.tag_regex,"currentScript"in document){var d=document.currentScript;if(d&&a.test(d.src))return d}for(b=document.getElementsByTagName("script"),c=b.length-1;c>=0;c--)if(a.test(b[c].src))return b[c];return null},getTID:function(){return this.getConfig().tid},getTIDsByZoneID:function(a){var b,c,d=[];for(c=LJT_Config.length-1;c>=0;)b=this.getConfigByIndex(c),b.zone_id===a&&d.push(b.tid),c--;return d},getTime:function(a){return a=a||new Date,a.toUTCString().split(" ")[4]},getUsername:function(){return this.getConfigParam("u","")},getZoneID:function(){return parseInt(this.getConfigParam("z",0))},init:function(){var a,b,c,d,e=this;if(this.build_cfg=this.getBuildConfig(),a=e.getGUID(),c=e.getConfig(a),c.start_time=(new Date).getTime(),c.log="","object"==typeof LJT_Async?(c.async=LJT_Async,LJT_Async=null):c.async={},b=e.getScriptTag(),!b)return d="Cant find Script Tag; URL: "+e.getLoc().substr(0,150)+"; REF: "+e.getRef().substr(0,150),e.log(d),void e.reportError(d,new Error);if(c.query_params=e.parseQueryString(b.src),c.zone_id=e.getZoneID(),!c.zone_id)return d="Unknown Zone ID; URL: "+e.getLoc().substr(0,150)+"; REF: "+e.getRef().substr(0,150),e.log(d),void e.reportError(d,new Error);if(c.tid=a,c.finale_fired=!1,c.ad_unit_id=e.generateAdUnitID(c.zone_id),c.called_ad_server=!1,c.dv={called:!1,error:"",timedOut:"",latency:"",start:"",end:""},!window.onbeforeunload)try{window.onbeforeunload=function(){LJT_Ads.chainLG(!0)}}catch(f){e.dbg(f)}e.log("INIT ("+c.zone_id+" / "+a+")"),e.isAsync()&&this.initAsync(c),e.manageEventListeners(),e.getConfigFromServer()},inFriendlyIframe:function(){var a,b;if(!this.isAsync())return!1;b=this.getAsyncConfig("id");try{a=!!self.parent.document.getElementById(b)}catch(c){a=!1}return a},initAsync:function(a){var b,c,d,e=this;d=a.tid,e.build_cfg.log_all_js_errors&&this.inFriendlyIframe()&&(window.onerror=function(a,c,d,f,g){try{return g=g||new Error("Undetermined Error"),b="URL: "+c+" LINE: "+d+" COL: "+f+" MSG: "+a+" ERR: "+g,e.reportError(b,g),!0}catch(h){return e.reportError("Error in onerror handler",h),!1}});try{c=parent.window,c.LJT_Config=c.LJT_Config||LJT_Config,"undefined"==typeof c.LJT_Config[d]&&(c.LJT_Config[d]=a,c.LJT_Config.length++)}catch(f){e.dbg(f)}e.log("Async Init ("+a.zone_id+" / "+d+")")},isAsync:function(){var a=this.getConfig(),b=a.async;return this.isInIframe()&&"object"==typeof b&&"{}"!==JSON.stringify(b)},isInIframe:function(){return self!==top},isOldIE:function(a){var b=new RegExp("MSIE ([0-9]+[\\.0-9]*)");return a=a||navigator.userAgent,"ie"===this.getBrowserEngine()&&!!b.exec(a)&&parseInt(RegExp.$1)<10},isTracker:function(a){try{var b=a.nodeName;return"IMG"!==b&&"IFRAME"!==b&&"DIV"!==b&&"SPAN"!==b&&"INS"!==b?!1:"undefined"==typeof a.height||"undefined"==typeof a.width||0!==a.height&&1!==a.height||0!==a.width&&1!==a.width?"undefined"!=typeof a.name&&a.name.match(/^google_conversion/)?!0:"undefined"==typeof a.style||"0px"!==a.style.height&&"1px"!==a.style.height||"0px"!==a.style.width&&"1px"!==a.style.width?!(1!==a.clientHeight&&1!==a.offsetHeight||1!==a.clientWidth&&1!==a.offsetWidth):!0:!0}catch(c){this.dbg(c)}return!1},matchProps:function(a,b){var c,d={};for(c in b)b.hasOwnProperty(c)&&c.match(a)&&(d[c]=b[c]);return d},log:function(a){var b,c,d,e="",f="";return"undefined"==typeof console?!1:(d=this.getConfig(),void(this.dbgEnabled()&&(b=(new Date).getTime()-d.start_time,c="[sovrn] "+b+": "+a,this.isOldIE()||(f="%c",e="background-color: #FFED96"),console.info(f+c,e),d.log+=c+"\n")))},lgFired:function(a){var b=!1;try{"1"===sessionStorage.getItem("lg_"+a)&&(b=!0)}catch(c){try{-1!==LJT_Config.globals.lg_fired.indexOf(a)&&(b=!0)}catch(d){this.dbg(d)}}return b},manageEventListeners:function(){window.removeEventListener?removeEventListener("message",function(a){LJT_Ads.onMsg(a)},!1):window.detachEvent?detachEvent("onmessage",function(a){LJT_Ads.onMsg(a)}):this.reportError("remove message event error",new Error),window.addEventListener?addEventListener("message",function(a){LJT_Ads.onMsg(a)},!1):window.attachEvent?attachEvent("onmessage",function(a){LJT_Ads.onMsg(a)}):this.reportError("add message event error",new Error)},matchQueryParams:function(a){var b,c={},d=this.getConfig().query_params;for(b in d)d.hasOwnProperty(b)&&d[b].match(a)&&(c[b]=d[b]);return c},onMsg:function(a){var b,c,d;if(!a.origin.toString().match(LJT_Config.globals.origin_regex))return this.log("[onMsg] Invalid Event Origin: "+a.origin),null;b=!1,c=JSON.parse(a.data),d=c.action;try{switch(d){case"passback":this.log("[onMsg] Passback Fired From iFrame"),this.doPassback(!0),b=!0;break;default:this.log("Invalid onMsg Action!")}}catch(e){this.reportError("onMsg Error",e)}return b},parseQueryString:function(a){var b,c={};return(b=a.split("?")[1]||"")?(b.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(a,b,d,e){try{c[b]=decodeURIComponent(e)}catch(f){LJT_Ads.dbg(f)}}),c):{}},parseUri:function(a){try{for(var b={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},c=b.parser.loose.exec(a),d={},e=14;e--;)d[b.key[e]]=c[e]||"";return d[b.q.name]={},d[b.key[12]].replace(b.q.parser,function(a,c,e){c&&(d[b.q.name][c]=e)}),d}catch(f){this.reportError("Failed to parse URI",f)}return a},renderAd:function(a){"object"!=typeof a&&this.reportError("Invalid server config.",new Error),this.log("adcfg response: "+JSON.stringify(a));var b=this.getConfig();b.zone=a,b.css_class=this.getCSSClass(),this.appendCSS(),this.isAsync()&&1===b.zone.dv?this.dv.call():this.callAdServer()},reportError:function(a,b){var c,d,e,f;d=this.getConfig(),e=d.zone_id;try{c=b.hasOwnProperty("stack")?b.stack:"",f={zoneid:e,tid:d.tid,cv:this.getCV(),err:b.hasOwnProperty("message")?b.message:"",msg:a,stack:c.substr(0,1024)},(new Image).src=this.build_cfg.error_url+"/fp?"+this.buildQS(f),this.dbgEnabled()&&alert("JS ERROR on Zone "+e+"\n\n"+a+"\n\n"+c)}catch(g){this.dbg(g)}},sendBeacon:function(){try{var a,b,c;if(this.getBeaconFired())return;c=this.getConfig(),a=this.getAdUnitID()+"_beacon",b=this.createiFrame(a,1,1),b.src=this.getBeaconURL(),document.body.appendChild(b),this.log("*beacon ("+c.zone_id+" / "+c.tid+")"),this.setBeaconFired(!0)}catch(d){this.reportError("Error sending Beacon",d)}},setBeaconFired:function(a){LJT_Config.globals.beacon_fired=a},setChainVars:function(a){var b=this.getConfig();b.chain={ads:a.ads,pod:a.pod,pbi:a.hasOwnProperty("pbi")?a.pbi:!1,start_time:(new Date).getTime(),banner_id:0,campaign_id:0,index:0,history:{bids:[],cids:[],tss:[]}},this.doPassback()},urlCheck:function(a){var b=!0;(!a||-1===a.indexOf(".")||a.length<4||0===a.indexOf("file:")||a.indexOf("javascript:")>=0||a.indexOf("data:")>=0)&&(b=!1);try{decodeURI(a)}catch(c){b=!1}return b},getGeo:function(){var a={};try{if(localStorage){var b=localStorage.getItem("sovrn.geo");this.log("Using geo position data: "+b),a=JSON.parse(b)||{}}}catch(c){}return navigator.geolocation?navigator.geolocation.getCurrentPosition(this.geoSuccess,this.geoFail,this.getBuildConfig().geo.positionOptions):this.log("navigation.geolocation unavailable"),a},geoSuccess:function(a){var b={lat:a.coords.latitude,lon:a.coords.longitude,acc:a.coords.accuracy,acquisitionDate:new Date};if(localStorage)try{var c=JSON.stringify(b);localStorage.setItem("sovrn.geo",c),this.log("Updated geo position data: "+c)}catch(d){}},geoFail:function(a){LJT_Ads.log("Failed to obtain geo position data: "+a.message)}};/*!(c)2010 Joseph Myers, et al. opensource.org/licenses/bsd-license*/
!function(){function a(a,g){var h=a[0],i=a[1],j=a[2],k=a[3],h=c(h,i,j,k,g[0],7,-680876936),k=c(k,h,i,j,g[1],12,-389564586),j=c(j,k,h,i,g[2],17,606105819),i=c(i,j,k,h,g[3],22,-1044525330),h=c(h,i,j,k,g[4],7,-176418897),k=c(k,h,i,j,g[5],12,1200080426),j=c(j,k,h,i,g[6],17,-1473231341),i=c(i,j,k,h,g[7],22,-45705983),h=c(h,i,j,k,g[8],7,1770035416),k=c(k,h,i,j,g[9],12,-1958414417),j=c(j,k,h,i,g[10],17,-42063),i=c(i,j,k,h,g[11],22,-1990404162),h=c(h,i,j,k,g[12],7,1804603682),k=c(k,h,i,j,g[13],12,-40341101),j=c(j,k,h,i,g[14],17,-1502002290),i=c(i,j,k,h,g[15],22,1236535329),h=d(h,i,j,k,g[1],5,-165796510),k=d(k,h,i,j,g[6],9,-1069501632),j=d(j,k,h,i,g[11],14,643717713),i=d(i,j,k,h,g[0],20,-373897302),h=d(h,i,j,k,g[5],5,-701558691),k=d(k,h,i,j,g[10],9,38016083),j=d(j,k,h,i,g[15],14,-660478335),i=d(i,j,k,h,g[4],20,-405537848),h=d(h,i,j,k,g[9],5,568446438),k=d(k,h,i,j,g[14],9,-1019803690),j=d(j,k,h,i,g[3],14,-187363961),i=d(i,j,k,h,g[8],20,1163531501),h=d(h,i,j,k,g[13],5,-1444681467),k=d(k,h,i,j,g[2],9,-51403784),j=d(j,k,h,i,g[7],14,1735328473),i=d(i,j,k,h,g[12],20,-1926607734),h=b(i^j^k,h,i,g[5],4,-378558),k=b(h^i^j,k,h,g[8],11,-2022574463),j=b(k^h^i,j,k,g[11],16,1839030562),i=b(j^k^h,i,j,g[14],23,-35309556),h=b(i^j^k,h,i,g[1],4,-1530992060),k=b(h^i^j,k,h,g[4],11,1272893353),j=b(k^h^i,j,k,g[7],16,-155497632),i=b(j^k^h,i,j,g[10],23,-1094730640),h=b(i^j^k,h,i,g[13],4,681279174),k=b(h^i^j,k,h,g[0],11,-358537222),j=b(k^h^i,j,k,g[3],16,-722521979),i=b(j^k^h,i,j,g[6],23,76029189),h=b(i^j^k,h,i,g[9],4,-640364487),k=b(h^i^j,k,h,g[12],11,-421815835),j=b(k^h^i,j,k,g[15],16,530742520),i=b(j^k^h,i,j,g[2],23,-995338651),h=e(h,i,j,k,g[0],6,-198630844),k=e(k,h,i,j,g[7],10,1126891415),j=e(j,k,h,i,g[14],15,-1416354905),i=e(i,j,k,h,g[5],21,-57434055),h=e(h,i,j,k,g[12],6,1700485571),k=e(k,h,i,j,g[3],10,-1894986606),j=e(j,k,h,i,g[10],15,-1051523),i=e(i,j,k,h,g[1],21,-2054922799),h=e(h,i,j,k,g[8],6,1873313359),k=e(k,h,i,j,g[15],10,-30611744),j=e(j,k,h,i,g[6],15,-1560198380),i=e(i,j,k,h,g[13],21,1309151649),h=e(h,i,j,k,g[4],6,-145523070),k=e(k,h,i,j,g[11],10,-1120210379),j=e(j,k,h,i,g[2],15,718787259),i=e(i,j,k,h,g[9],21,-343485551);a[0]=f(h,a[0]),a[1]=f(i,a[1]),a[2]=f(j,a[2]),a[3]=f(k,a[3])}function b(a,b,c,d,e,g){return b=f(f(b,a),f(d,g)),f(b<<e|b>>>32-e,c)}function c(a,c,d,e,f,g,h){return b(c&d|~c&e,a,c,f,g,h)}function d(a,c,d,e,f,g,h){return b(c&e|d&~e,a,c,f,g,h)}function e(a,c,d,e,f,g,h){return b(d^(c|~e),a,c,f,g,h)}function f(a,b){return a+b&4294967295}var g="0123456789abcdef".split("");LJT_Ads.md5=function(b){var c=b;/[\x80-\xFF]/.test(c)&&(c=decodeURI(encodeURI(c)));var d=c.length;b=[1732584193,-271733879,-1732584194,271733878];var e;for(e=64;e<=c.length;e+=64){for(var f=b,h=c.substring(e-64,e),i=[],j=void 0,j=0;64>j;j+=4)i[j>>2]=h.charCodeAt(j)+(h.charCodeAt(j+1)<<8)+(h.charCodeAt(j+2)<<16)+(h.charCodeAt(j+3)<<24);a(f,i)}for(c=c.substring(e-64),f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<c.length;e++)f[e>>2]|=c.charCodeAt(e)<<(e%4<<3);if(f[e>>2]|=128<<(e%4<<3),e>55)for(a(b,f),e=0;16>e;e++)f[e]=0;for(f[14]=8*d,a(b,f),c=0;c<b.length;c++){for(d=b,e=c,f=b[c],h="",i=0;4>i;i++)h+=g[f>>8*i+4&15]+g[f>>8*i&15];d[e]=h}return b.join("")},"5d41402abc4b2a76b9719d911017c592"!=LJT_Ads.md5("hello")&&(f=function(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c})}(),LJT_Ads.init();