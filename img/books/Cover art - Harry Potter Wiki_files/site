var firstRun=true;function loadFunc(){if(firstRun){firstRun=false;}else{return;}window.pageName=wgPageName;window.storagePresent=(typeof(globalStorage)!='undefined');addHideButtons();fillPreloads();substUsername();substUsernameTOC();rewriteTitle();addAlternatingRowColors();var body=document.getElementsByTagName('body')[0];var bodyClass=body.className;if(!bodyClass||(bodyClass.indexOf('page-')==-1)){var page=window.pageName.replace(/\W/g,'_');body.className+=' page-'+page;}if(typeof(onPageLoad)!="undefined"){onPageLoad();}}function infoboxToggle(){var page=window.pageName.replace(/\W/g,'_');var nowShown;if(document.getElementById('infoboxtoggle').innerHTML=='[Hide]'){document.getElementById('infoboxinternal').style.display='none';document.getElementById('infoboxtoggle').innerHTML='[Show]';nowShown=false;}else{document.getElementById('infoboxinternal').style.display='block';document.getElementById('infoboxtoggle').innerHTML='[Hide]';nowShown=true;}if(window.storagePresent){var storage=
globalStorage[window.location.hostname];storage.setItem('infoboxshow-'+page,nowShown);}}function fillPreloads(){if(!$('#lf-preload').length){return;}$('#lf-preload').attr('style','display: block');$.get(wgScript,{title:'Template:Stdpreloads',action:'raw',ctype:'text/plain'}).done(function(data){var $preloadOptionsList,lines=data.split('\n');$preloadOptionsList=$('<select />').attr('id','stdSummaries').change(function(){var templateName=$(this).val();if(templateName!==''){templateName='Template:'+templateName+'/preload';templateName=templateName.replace(' ','_');$.get(wgScript,{title:templateName,action:'raw',ctype:'text/plain'}).done(function(data){insertAtCursor(document.getElementById('wpTextbox1'),data);});}});for(var i=0;i<lines.length;i++){var templateText=(lines[i].indexOf('-- ')===0)?lines[i].substring(3):'';$preloadOptionsList.append($('<option>').val(templateText).text(lines[i]));}$('#lf-preload-cbox').html($preloadOptionsList);});$('#lf-preload-pagename').html(
'<input type="text" class="textbox" />');$('#lf-preload-button').html('<input type="button" class="button" value="Insert" onclick="doCustomPreload()" />');}function doCustomPreload(){doPreload(document.getElementById('lf-preload-pagename').getElementsByTagName('input')[0].value);}function rewriteTitle(){if(typeof(window.SKIP_TITLE_REWRITE)!='undefined'&&window.SKIP_TITLE_REWRITE){return;}if($('#title-meta').length==0){return;}var newTitle=$('#title-meta').html();if(skin=="oasis"){$('header.WikiaPageHeader > h1').html('<div id="title-meta" style="display: inline;">'+newTitle+'</div>');$('header.WikiaPageHeader > h1').attr('style','text-align:'+$('#title-align').html()+';');}else{$('.firstHeading').html('<div id="title-meta" style="display: inline;">'+newTitle+'</div>');$('.firstHeading').attr('style','text-align:'+$('#title-align').html()+';');}}function addAlternatingRowColors(){var infoboxes=getElementsByClass('infobox',document.getElementById('content'));if(infoboxes.length==0)return
;for(var k=0;k<infoboxes.length;k++){var infobox=infoboxes[k];var rows=infobox.getElementsByTagName('tr');var changeColor=false;for(var i=0;i<rows.length;i++){if(rows[i].className.indexOf('infoboxstopalt')!=-1)break;var ths=rows[i].getElementsByTagName('th');if(ths.length>0){continue;}if(changeColor)rows[i].style.backgroundColor='#f9f9f9';changeColor=!changeColor;}}}function addHideButtons(){if(typeof getElementsByClass!='function'){return;}var hidables=getElementsByClass('hidable');for(var i=0;i<hidables.length;i++){var box=hidables[i];var button=getElementsByClass('hidable-button',box,'span');if(button!=null&&button.length>0){button=button[0];button.onclick=toggleHidable;button.appendChild(document.createTextNode('[Hide]'));if(new ClassTester('start-hidden').isMatch(box))button.onclick('bypass');}}}function toggleHidable(bypassStorage){if(typeof getElementsByClass!='function'){return;}var parent=getParentByClass('hidable',this);var content=getElementsByClass('hidable-content',parent)
;var nowShown;if(content!=null&&content.length>0){content=content[0];if(content.style.display=='none'){content.style.display=content.oldDisplayStyle;this.firstChild.nodeValue='[Hide]';nowShown=true;}else{content.oldDisplayStyle=content.style.display;content.style.display='none';this.firstChild.nodeValue='[Show]';nowShown=false;}if(window.storagePresent&&(typeof(bypassStorage)=='undefined'||bypassStorage!='bypass')){var page=window.pageName.replace(/\W/g,'_');var items=getElementsByClass('hidable');var item=-1;for(var i=0;i<items.length;i++){if(items[i]==parent){item=i;break;}}if(item==-1){return;}var storage=globalStorage[window.location.hostname];storage.setItem('hidableshow-'+item+'_'+page,nowShown);}}}function substUsername(){$('.insertusername').text(wgUserName);}function substUsernameTOC(){if(typeof getElementsByClass!='function'){return;}var toc=document.getElementById('toc');var userpage=document.getElementById('pt-userpage');if(!userpage||!toc)return;var username=userpage.
firstChild.firstChild.nodeValue;var elements=getElementsByClass('toctext',toc,'span');for(var i=0;i<elements.length;i++)elements[i].firstChild.nodeValue=elements[i].firstChild.nodeValue.replace('<insert name here>',username);}function getElementsByClass(searchClass,node,tag){var classElements=new Array();if(node==null)node=document;if(tag==null)tag='*';var els=node.getElementsByTagName(tag);var elsLen=els.length;var tester=new ClassTester(searchClass);for(i=0,j=0;i<elsLen;i++){if(tester.isMatch(els[i])){classElements[j]=els[i];j++;}}return classElements;}function ClassTester(className){this.regex=new RegExp("(^|\\s)"+className+"(\\s|$)");}ClassTester.prototype.isMatch=function(element){return this.regex.test(element.className);}
function insertAtCursor(myField,myValue){if(document.selection){myField.focus();sel=document.selection.createRange();sel.text=myValue;}else if(myField.selectionStart||myField.selectionStart=='0'){var startPos=myField.selectionStart;var endPos=myField.selectionEnd;myField.value=myField.value.substring(0,startPos)+myValue+myField.value.substring(endPos,myField.value.length);}else{myField.value+=myValue;}}function getFirstHeading(){var elements=getElementsByClass('firstHeading',document.getElementById('content'),'h1');return(elements!=null&&elements.length>0)?elements[0]:null;}function getParentByClass(className,element){var tester=new ClassTester(className);var node=element.parentNode;while(node!=null&&node!=document){if(tester.isMatch(node))return node;node=node.parentNode;}return null;}function rewriteHover(){var gbl=document.getElementById("hover-global");if(gbl==null)return;var nodes=getElementsByClass("hoverable",gbl);for(var i=0;i<nodes.length;i++){nodes[i].onmouseover=function(){
this.className+=" over";}
nodes[i].onmouseout=function(){this.className=this.className.replace(new RegExp(" over\\b"),"");}}}$(loadFunc);var ajaxIndicator='http://images2.wikia.nocookie.net/dev/images/8/82/Facebook_throbber.gif',ajaxTimer,ajaxRefresh=60000,refreshText='Automatically refresh',refreshHover='Enable auto-refreshing page loads',doRefresh=true;if(!window.ajaxPages){var ajaxPages=new Array('Special:RecentChanges','Special:Watchlist','Special:Log','Special:NewFiles');}if(!window.ajaxCallAgain){var ajaxCallAgain=[];}if(typeof AjaxRCRefreshText=="string"){refreshText=AjaxRCRefreshText;}if(typeof AjaxRCRefreshHoverText=="string"){refreshHover=AjaxRCRefreshHoverText;}function setCookie(c_name,value,expiredays){var exdate=new Date();exdate.setDate(exdate.getDate()+expiredays);document.cookie=c_name+"="+escape(value)+((expiredays===null)?"":";expires="+exdate.toGMTString());}function getCookie(c_name){if(document.cookie.length>0){var c_start=document.cookie.indexOf(c_name+"=")
if(c_start!==-1){c_start=c_start+c_name.length+1;var c_end=document.cookie.indexOf(";",c_start);if(c_end===-1){c_end=document.cookie.length;}return unescape(document.cookie.substring(c_start,c_end));}}return"";}function preloadAJAXRL(){var ajaxRLCookie=(getCookie("ajaxload-"+wgPageName)=="on")?true:false,appTo=($('#WikiaPageHeader').length)?$('#WikiaPageHeader'):($('#AdminDashboardHeader').length?$('#AdminDashboardHeader > h1'):$('.firstHeading'));appTo.append('&nbsp;<span style="font-size: xx-small; line-height: 100%;" id="ajaxRefresh"><span style="border-bottom: 1px dotted; cursor: help;" id="ajaxToggleText" title="'+refreshHover+'">'+refreshText+':</span><input type="checkbox" style="margin-bottom: 0;" id="ajaxToggle"><span style="display: none;" id="ajaxLoadProgress"><img src="'+ajaxIndicator+'" style="vertical-align: baseline; float: none;" border="0" alt="Refreshing page" /></span></span>');$('#ajaxLoadProgress').ajaxSend(function(event,xhr,settings){if(location.href==settings.
url){$(this).show();}}).ajaxComplete(function(event,xhr,settings){if(location.href==settings.url){$(this).hide();for(i in ajaxCallAgain){ajaxCallAgain[i]();}}});$('#ajaxToggle').click(toggleAjaxReload);$('#ajaxToggle').attr('checked',ajaxRLCookie);if(getCookie("ajaxload-"+wgPageName)=="on"){loadPageData();}}function toggleAjaxReload(){if($('#ajaxToggle').prop('checked')==true){setCookie("ajaxload-"+wgPageName,"on",30);doRefresh=true;loadPageData();}else{setCookie("ajaxload-"+wgPageName,"off",30);doRefresh=false;clearTimeout(ajaxTimer);}}function loadPageData(){var cC=($('#WikiaArticle').length)?'#WikiaArticle':'#bodyContent';$(cC).load(location.href+" "+cC+" > *",function(data){if(doRefresh){ajaxTimer=setTimeout("loadPageData();",ajaxRefresh);}});}$(function(){for(x in ajaxPages){if(wgPageName==ajaxPages[x]&&$('#ajaxToggle').length===0){preloadAJAXRL();}}});function addEditIntro(name){if(skin=='oasis'){$('a[data-id="edit"]').attr('href',$('a[data-id="edit"]').attr('href')+'&editintro='
+name);$('span.editsection > a').each(function(){$(this).attr('href',$(this).attr('href')+'&editintro='+name);});}else{var el=document.getElementById('ca-edit');if(typeof(el.href)=='undefined'){el=el.getElementsByTagName('a')[0];}if(el)el.href+='&editintro='+name;var spans=document.getElementsByTagName('span');for(var i=0;i<spans.length;i++){el=null;if(spans[i].className=='editsection'){el=spans[i].getElementsByTagName('a')[0];if(el)el.href+='&editintro='+name;}else if(spans[i].className=='editsection-upper'){el=spans[i].getElementsByTagName('a')[0];if(el)el.href+='&editintro='+name;}}}}if(wgNamespaceNumber==0){addOnloadHook(function(){var cats=document.getElementById('mw-normal-catlinks');if(!cats)return;cats=cats.getElementsByTagName('a');for(var i=0;i<cats.length;i++){if(cats[i].title=='Category:Harry Potter Wiki Featured articles'){addEditIntro('Template:Featured_editintro');break;}}});}function mainPageRenameNamespaceTab(){try{var Node=document.getElementById('ca-nstab-main').
firstChild;if(Node.textContent){Node.textContent='Main Page';}else if(Node.innerText){Node.innerText='Main Page';}else{Node.replaceChild(Node.firstChild,document.createTextNode('Main Page'));}}catch(e){}}if(wgTitle=='Main Page'&&(wgNamespaceNumber==0||wgNamespaceNumber==1)){addOnloadHook(mainPageRenameNamespaceTab);}function disableOldForumEdit(){if(typeof(enableOldForumEdit)!='undefined'&&enableOldForumEdit){return;}if(!document.getElementById('old-forum-warning')){return;}if(skin=='oasis'){if(wgNamespaceNumber==2||wgNamespaceNumber==3){$("#WikiaUserPagesHeader .wikia-menu-button li a:first").html('Archived').removeAttr('href').attr('style','color: darkgray;');$('span.editsection').remove();return;}else{$("#WikiaPageHeader .wikia-menu-button li a:first").html('Archived').removeAttr('href').attr('style','color: darkgray;');$('span.editsection').remove();return;}}if(!document.getElementById('ca-edit')){return;}if(skin=='monaco'){editLink=document.getElementById('ca-edit');}else if(skin
=='monobook'){editLink=document.getElementById('ca-edit').firstChild;}else{return;}editLink.removeAttribute('href',0);editLink.removeAttribute('title',0);editLink.style.color='gray';editLink.innerHTML='Archived';$('span.editsection-upper').remove();$('span.editsection').remove();appendCSS('#control_addsection, #ca-addsection { display: none !important; }');}addOnloadHook(disableOldForumEdit);addOnloadHook(function(){if(wgNamespaceNumber==6&&$('#file').length!=0){$('#file').html($('#file').html().replace(/Featured on\:(.*?)\<br\>/,''));}});$(document).ready(function(){if(wgPageName!='Special:Upload'){return;}$('#wpUploadDescription').text("==Summary==\r\n{{Information\r\n|attention=\r\n|description=\r\n|source=\r\n|author=\r\n|filespecs=\r\n|licensing=\r\n|other versions=\r\n|categories=\r\n}}");});if(mwCustomEditButtons){mwCustomEditButtons[mwCustomEditButtons.length]={"imageFile":"http://images.wikia.com/central/images/c/c8/Button_redirect.png","speedTip":"Redirect","tagOpen":
"#REDIRECT [[","tagClose":"]]","sampleText":"Insert page"};mwCustomEditButtons[mwCustomEditButtons.length]={"imageFile":"http://images.wikia.com/central/images/c/c9/Button_strike.png","speedTip":"Strike","tagOpen":"<s>","tagClose":"</s>","sampleText":"Strike-through text"};mwCustomEditButtons[mwCustomEditButtons.length]={"imageFile":"http://images.wikia.com/central/images/1/13/Button_enter.png","speedTip":"Line break","tagOpen":"<br />","tagClose":"","sampleText":""};mwCustomEditButtons[mwCustomEditButtons.length]={"imageFile":"http://images.wikia.com/central/images/7/74/Button_comment.png","speedTip":"Comment visible only for editors","tagOpen":"<!-- ","tagClose":" -->","sampleText":"Insert comment here"};}AjaxRCRefreshText='Auto-refresh';AjaxRCRefreshHoverText='Automatically refresh this page';ajaxPages=["Special:RecentChanges","Special:WikiActivity"];importScriptPage('AjaxRC/code.js','dev');function customPreloadTemplates(){if(mw.config.get('wgAction')!=='edit'||!$(
'div.module_content').length){return;}$('div.module_content:first').append('<div id="lf-preload" class="edit-widemode-hide" style="padding: 10px;">Standard preloads:<br /></div>');$.get(mw.config.get('wgScript'),{title:'Template:Stdpreloads',action:'raw',ctype:'text/plain'}).done(function(data){var $preloadOptionsList,lines=data.split('\n');$preloadOptionsList=$('<select />').attr('id','stdSummaries').change(function(){var templateName=$(this).val();if(templateName!==''){templateName='Template:'+templateName+'/preload';templateName=templateName.replace(' ','_');$.get(mw.config.get('wgScript'),{title:templateName,action:'raw',ctype:'text/plain'}).done(function(data){var editTextBox=document.getElementById('cke_wpTextbox1')?document.getElementsByClassName('cke_source')[0]:document.getElementById('wpTextbox1');if(editTextBox){insertAtCursor(editTextBox,data);}});}});for(var i=0;i<lines.length;i++){var templateText=(lines[i].indexOf('-- ')===0)?lines[i].substring(3):'';$preloadOptionsList.
append($('<option>').val(templateText).text(lines[i]));}$('div#lf-preload').append($preloadOptionsList);});}$(customPreloadTemplates);;mw.loader.state({"site":"ready"});

/* cache key: harrypotter:resourceloader:filter:minify-js:7:add7c03e8971e448e50c28d4445996d1 */